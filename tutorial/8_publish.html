

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Publish and Update &mdash; KBase SDK 1.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Common Questions" href="../references/questions_and_answers.html" />
    <link rel="prev" title="7. Implement Code" href="7_implement.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> KBase SDK
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Intro</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Concepts and Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../video_tutorial.html">Video Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_dependencies.html">1. Dependencies &amp; Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_initialize.html">3. Initialize the Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_helloworld.html">4. Hello World Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_setup.html">5. ContigFilter Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_inputsoutputs.html">6. Narrative User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_implement.html">7. Implement Code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Publish and Update</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/questions_and_answers.html">Common Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/create_a_report.html">Creating reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/add_ui_elements.html">Adding UI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/edit_your_dockerfile.html">Editing your app’s Dockerfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/fill_out_app_information.html">Fully documenting your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/run_a_shell_command.html">Running shell commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/file_utils.html">Working with the file utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howtos/workspace.html">Using Workspace Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/manual_build.html">Manually building the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/work_with_reference_data.html">Working with reference data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/job_manager.html">Listing and viewing jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/dynamic_services.html">Dynamic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/update_to_py3.html">Updating a module to Python3</a></li>
</ul>
<p class="caption"><span class="caption-text">References &amp; Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/design_checklist.html">Design Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/troubleshooting.html">Troubleshooting Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/dev_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/execution_engine.html">Job Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/module_anatomy.html">Anatomy of a Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/KIDL_spec.html">KIDL Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/UI_spec.html">Narrative App UI Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/terminology.html">Terminology</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KBase SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>8. Publish and Update</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/kbase/kb_sdk_docs/blob/blob/master/source/tutorial/8_publish.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="publish-and-update">
<h1>8. Publish and Update<a class="headerlink" href="#publish-and-update" title="Permalink to this headline">¶</a></h1>
<p>For all updates, it is good practice to update the RELEASE_NOTES.md file in the root directory for the module.</p>
<div class="section" id="publish-all-git-commits">
<h2>8.1. Publish all git commits<a class="headerlink" href="#publish-all-git-commits" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have run <code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></code> and <code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span></code> on all the changes in your app’s codebase, then <code class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></code> to your public github URL. If you are part of a team writing the app, all the commits need to be pushed the the repo you want to use for KBase.</p>
</div>
<div class="section" id="appdev">
<h2>8.2. Appdev<a class="headerlink" href="#appdev" title="Permalink to this headline">¶</a></h2>
<p><a href="https://appdev.kbase.us" target="_blank">Appdev (https://appdev.kbase.us)</a> is a separate KBase narrative server that is used by app developers like yourself to publish in-progress versions of their apps and test and share them using real data. Registering and updating you module will be
done on the appdev server. After you click on the <code class="docutils literal"><span class="pre">Sign</span> <span class="pre">In</span></code> button and pick you authentication type, you will
encounter a screen with:</p>
<div class="align-center figure" id="id1">
<img alt="../_images/appdev_login.png" src="../_images/appdev_login.png" />
<p class="caption"><span class="caption-text">Logging into Appdev</span></p>
</div>
<p>As the page says, direct loggin doesn’t work and the page will go away when a solution is implemented.
If you are already logged into <a href="https://narrative.kbase.us" target="_blank">production (https://narrative.kbase.us)</a>, start with step 2. Otherwise start at step 1.
Step 4 will leave you at a page with no more hotlinks. In step 5, you will click on the Dashboard icon
on the left and will be taken to the Dashboard that is the starting point in other environments.</p>
</div>
<div class="section" id="register-with-kbase">
<h2>8.3. Register with KBase<a class="headerlink" href="#register-with-kbase" title="Permalink to this headline">¶</a></h2>
<p>To see your app in a narrative, the module must first be registered. After you have logged into appdev,
go to the <a href="https://appdev.kbase.us/#appcatalog/register" target="_blank">Module Registration</a> page.  Enter your public git repo for the URL:</p>
<div class="align-center figure" id="id2">
<img alt="../_images/register.png" src="../_images/register.png" />
<p class="caption"><span class="caption-text">Register your module.</span></p>
</div>
<p>and click on <code class="docutils literal"><span class="pre">Register</span></code>. Wait for the registration to complete (it may take a while on the first registration as it has to build the Docker image that is specific to your module from scratch).</p>
<p>This page can be used for both the initial registration and registering updates. Because you may be registering
the module several times, a link to the page is also found at the top of the App Catalog.</p>
<div class="align-center figure" id="id3">
<img alt="../_images/register_module.png" src="../_images/register_module.png" />
<p class="caption"><span class="caption-text">Top of App Catalog page for appdev</span></p>
</div>
<p>Note that you must be an approved developer to register a new module. You can apply for a
KBase developer account by going to <a href=" https://accounts.kbase.us/index.php?tpl=request_identity.tpl" target="_blank">https://accounts.kbase.us/index.php?tpl=request_identity.tpl</a>. If you are a US citizen, your account
can be created within a few days. For foreign nationals, it may take several weeks (and,
in a few cases, you may not be able to get a developer account). Non-US citizens will be
asked for additional information in order to process their application. Once your account
is approved, contact us with your username and ask to be added to the developer list.</p>
<p>Once your app has been registered, it will be available in the AppDev environment in KBase.
Go to <a href="https://appdev.kbase.us" target="_blank">Appdev (https://appdev.kbase.us)</a> and start a new Narrative. Click on the ‘R’ in the Apps Panel  until it
switches to ‘D’ (“develop”) to show apps that are still in development.  Find your new app
by searching for your module and run it!</p>
<p>Your app will now also be visible in the App Catalog when displaying Apps in development.
Use the dropdown for <code class="docutils literal"><span class="pre">Version</span></code> and select “Apps in Development”.</p>
<ul class="simple">
<li>Appdev: <a href="https://appdev.kbase.us/#appcatalog/browse/dev" target="_blank">https://appdev.kbase.us/#appcatalog/browse/dev</a></li>
<li>Production: <a href="https://narrative.kbase.us/#appcatalog/browse/dev" target="_blank">https://narrative.kbase.us/#appcatalog/browse/dev</a></li>
</ul>
<p>Once the module has been registered your narrative needs to know that you want to test apps in
the development envirionment. Go to <a href="https://appdev.kbase.us" target="_blank">Appdev (https://appdev.kbase.us)</a>
and create or open a narrative. In the <code class="docutils literal"><span class="pre">APPS</span> <span class="pre">Panel</span></code> on the left, click on the <code class="docutils literal"><span class="pre">R</span></code> to change
the environment from <code class="docutils literal"><span class="pre">released</span></code> to <code class="docutils literal"><span class="pre">beta</span></code>.</p>
<div class="align-center figure" id="id4">
<img alt="../_images/Change_to_beta.png" src="../_images/Change_to_beta.png" />
<p class="caption"><span class="caption-text">Register your module.</span></p>
</div>
<p>Click on the <code class="docutils literal"><span class="pre">B</span></code> to change from <code class="docutils literal"><span class="pre">beta</span></code> to a <code class="docutils literal"><span class="pre">D</span></code> for development. You new app should be
among the apps listed in the <code class="docutils literal"><span class="pre">APPS</span> <span class="pre">Panel</span></code>. On the documentation page for “Fully documenting your app”,
you can assign one or more categories for your app. If you didn’t assign a category, it will be
listed with the <code class="docutils literal"><span class="pre">Uncategorized</span></code> apps. Your app should appear when you click on the <code class="docutils literal"><span class="pre">&gt;</span></code>
and expand the list of apps in the category. On the same documentation page, you hopefully selected an icon
for your app. Creating a distinctive icon makes it easier to find in the list. It is ready for
you and any developers to test the app.</p>
</div>
<div class="section" id="updating-and-beta">
<h2>8.4. Updating and Beta<a class="headerlink" href="#updating-and-beta" title="Permalink to this headline">¶</a></h2>
<p>The module must be re-registered every time you make updates. You can navigate to the module page using the App Catalog or go directly to:</p>
<p><a href="https://narrative.kbase.us/#appcatalog/module/my_module_name" target="_blank">https://narrative.kbase.us/#appcatalog/module/MODULE_NAME</a></p>
<p>To update an app, open the page, fill in the <code class="docutils literal"><span class="pre">github</span></code> public URL, and then click the <strong>REGISTER</strong> button. You can optionally specify a particular commit hash for your repository (useful if you want to test a feature branch prior to merging into master) or leave this field blank to build from the latest commit on the master branch.</p>
<p>As you make changes to your Module, <strong>you will need to re-commit those changes to the git repo, and then re-register</strong>. The KBase SDK Catalog service will automatically pull the most recent version. If for some reason you wish to revert to an older version, you can add the hash key of that older commit, which you can find by viewing the <code class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></code>.</p>
<p>The ver (version) in the <code class="docutils literal"><span class="pre">spec.json</span></code> file becomes important once an app has been released to prod. The version needs to be updated for each subsequent release. The list of authors may need to be updated as well if additional people contribute to revisions.</p>
<p>Once you are happy with your app, you can click on the option to expose it in <code class="docutils literal"><span class="pre">beta</span></code>. The <code class="docutils literal"><span class="pre">beta</span></code>
environment is exposed in both appdev and in <a href="https://narrative.kbase.us" target="_blank">production (https://narrative.kbase.us)</a>. As a <code class="docutils literal"><span class="pre">beta</span></code> app, you can have
other KBase users test the app in production and provide you with feedback.</p>
<p>When you have made you last changes and want to release the app to <code class="docutils literal"><span class="pre">beta</span></code>, go to the App Catelog page
<a href="https://narrative.kbase.us/#appcatalog/module/my_module_name" target="_blank">https://narrative.kbase.us/#appcatalog/module/MODULE_NAME</a> for your module. The top header on the page will have “Module Catalog”. If you are the module owner,
you will see <code class="docutils literal"><span class="pre">&gt;</span></code> next to the words “Module Admin Tools”. Click on the <code class="docutils literal"><span class="pre">&gt;</span></code>. The window will expand and you now have a link for ‘Migrate Current Dev Version to Beta’. Click on the link and the app is in <code class="docutils literal"><span class="pre">beta</span></code> and available for all users to try.</p>
</div>
<div class="section" id="release-to-production">
<h2>8.5. Release to Production<a class="headerlink" href="#release-to-production" title="Permalink to this headline">¶</a></h2>
<p>The final step is to get the app released. It is on the same page as requesting <code class="docutils literal"><span class="pre">beta</span></code> but the button you click
is called ‘Request New Release’. The KBase Implementation Team staff will review the module and apps and make sure that
they meet both the <a href="../references/dev_guidelines.html">Developer Guidance</a> and the <a href="https://github.com/kbase/roadmap/blob/master/KBase%20product%20requirements.md">Must Haves</a>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Please bear in mind that for public release, your module must meet all the requirements laid out in the  <a href="../references/dev_guidelines.html">KBase SDK Policies</a>. We reserve the right to delay public release of SDK Modules until all requirements are met. Please take the time to familiarize yourself with these policies to avoid delay in releasing your Module.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../references/questions_and_answers.html" class="btn btn-neutral float-right" title="Common Questions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="7_implement.html" class="btn btn-neutral" title="7. Implement Code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, KBase.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>